입출력 작업을 수행하려면 CPU와 장치 컨트롤러가 정보를 주고받아야 한다. 

그 방법에는 크게 세 가지의 방법들이 있는데, 프로그램 입출력, 인터럽트 기반 입출력, DMA 입출력이 있다.

## 프로그램 입출력

기본적으로 프로그램 속 명령어로 입출력 장치를 제어하는 방법이다.
CPU가 프로그램 속 명령어를 실행하는 과정에서 입출력 명령어를 만나면 CPU는 입출력 장치에 연결된 장치 컨트롤러와 상호작용하며 입출력 작업을 수행한다. 

CPU는 여러 장치 컨트롤러 속 레지스터들을 모두 알고 있기란 어렵기에 메모리 맵 입출력과 고립형 입출력 방식을 사용한다.

- 메모리 맵 입출력 - 메모리에 접근하기 위한 주소 공간과 입출력 장치에 접근하기 위한 주소 공간을 하나의 주소 공간으로 간주하는 방법. 메모리와 입출력 장치에 같은 명령어 사용 가능하다.

- 고립형 입출력 - 메모리를 위한 주소 공간과 입출력 장치를 위한 주소 공간을 분리하는 방법. 메모리 주소 공간이 축소되지 않는다.


## 인터럽트 기반 입출력

CPU는 장치 컨트롤러에 입출력 작업을 명령하고, 장치 컨트롤러가 입출력 장치를 제어하며 입출력을 수행하는 동안 CPU는 다른 일을 할 수 있다.

장치 컨트롤러가 입출력 작업을 끝낸 뒤 CPU에게 인터럽트 요청 신호를 보내면 CPU는 하던 일을 잠시 백업하고 인터럽트 서비스 루틴을 실행한다. 이러한 인터럽트를 기반으로 하는 입출력을 인터럽트 기반 입출력이라고 한다.

인터럽트를 우선순위를 고려하여 우선순위가 높은 인터럽트 순으로 처리하는데, 다수의 컴퓨터에선 PIC(Programmable Interrupt Controller)라는 우선순위를 판별한 뒤 CPU에 지금 처리해야 할 하드웨어 인터럽트는 무엇인지를 알려주는 하드웨어를 사용한다.

## DMA(Direct Memory Access) 입출력 

위의 두 방식에는 입출력 장치와 메모리 간의 데이터 이동은 CPU가 주도하고, 이동하는 데이터도 반드시 CPU를 거치는데, DMA는 DMA 컨트롤러라는 하드웨어를 사용해  직접 메모리에 접근할 수 있게 한다.

	DMA 입출력 과정	
	1. CPU는 DMA 컨트롤러에 입출력 장치의 주소, 수행할 연산(읽기, 쓰기), 읽거나 쓸 메모리의 주소 등과 같은 정보로 입출력 작업을 명령한다.
	2. DMA 컨트롤러는 CPU 대신 장치 컨트롤러와 상호작용하며 입출력 작업을 수행한다. 이때 DMA 컨트롤러는 필요한 경우 메모리에 직접 접근하여 정보를 읽거나 쓴다.
	3. 입출력 작업이 끝나면 DMA 컨트롤러는 CPU에 인터럽트를 걸어 작업이 끝났음을 알립니다.

 입출력 장치와 메모리 사이에 주고받을 데이터는 CPU를 거치지 않아 작업 부담을 훨씬 줄일 수 있다. CPU는 오직 입출력의 시작과 끝에만 관여하면 된다. 

- 단점
 하지만 DMA 컨트롤러는 시스템 버스로 메모리에 직접 접근이 가능하지만, 시스템 버스는 동시 사용이 불가하다. 이는 공용 자원이기 때문에, CPU가 시스템 버스를 사용할 때는 DMA컨트롤러는 시스템 버스를 사용할 수 없고, DMA 컨트롤러가 사용할 때에는 CPU가 사용할 수 없다.


---
  작성자 - hyisu